<!DOCTYPE html>
<html>

  <head>
    
    <meta charset="utf-8">
    <title>Homework 7</title>

    <link rel="stylesheet" href="alt.css" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,800,700' rel='stylesheet' type='text/css'>

    <script src="autoscroll.js"></script>
    
    <style>

      hr { margin-top: 50px; }

        code,tt,pre {
          font-size: 130%;
        }
	
        div.lect {
	  padding-top: 0;
       	  padding-left: 3em;
	  margin-top:0;
        }
    	p.ann { 
    	  padding-left: 3em;
    	  text-indent: -3em; 
    	}
	p.ann_ctd{
	  padding-left: 3em;
        }
    	span.hdr {
   	  padding-right: 1em
    	}

	.hidden {
	  visibility: hidden;
        }

        tt.code {
           background: #e6e6e6;
        }

	pre.code {
	   border: 1px solid #c6c6c6;
	border-radius: 5px;
	padding: 10px;
	font-size:100%;
	}

/* from
    http://www.456bereastreet.com/archive/201105/styling_ordered_list_numbers/
 */

ol {
    counter-reset:li; /* Initiate a counter */
    margin-left:0; /* Remove the default left margin */
    padding-left:0; /* Remove the default left padding */
    padding-top:1em;
}
ol > li {
    position:relative; /* Create a positioning context */
    margin:0 0 6px 2em; /* Give each list item a left margin to make
    room for the numbers */
    padding:4px 8px; /* Add some spacing around the content */
    list-style:none; /* Disable the normal item numbering */
    /*border-top:2px solid #666;
    background:#f6f6f6; */
}
ol > li:before {
    counter-increment:li; /* Increment the counter by 1 */
    /* Position and style the number */
    position:absolute;
    top:-2px;
    left:-2em;
    -moz-box-sizing:border-box;
    -webkit-box-sizing:border-box;
    box-sizing:border-box;
    width:2em;
    /* Some space between the number and the content in browsers that
    support
       generated content but not positioning it (Camino 2 is one
    example) */
    margin-right:8px;
    padding:4px;
/*    border-top:2px solid #666;
    color:#fff;
    background:#666; 
    font-weight:bold; */
/*    font-family:"Helvetica Neue", Arial, sans-serif;
    text-align:center; */
}

ol.letter > li:before {
    content:"(" counter(li,lower-alpha) ")"; /* Use the counter as content */
}

ol.number > li:before {
    content:"(" counter(li,decimal) ")"; /* Use the counter as content */
}

li ol,
li ul {margin-top:6px;}

li > p { margin-top:0;}

    </style>

  </head>


  <body>

    <div class="navbar">

      <div class="home">
	<a href="../../index.html"><img src="../../home.png" style="height: 1.6em;"></a>
      </div>

      <ul>
	<li><a href="index.html"><b>Programming Languages FA16</b></a></li> 
	<li class="hidden"><a class="scrollto" href="#announcements">Announcements</a></li>
	<li class="hidden"><a class="scrollto" href="#info">Course Info</a></li>
	<li class="hidden"><a class="scrollto" href="#lectures">Lectures</a></li>
	<li class="hidden"><a class="scrollto" href="#homeworks">Homeworks</a></li>
      </ul>
    </div>


    <!-- padding -->
    <div id="top" style="height: 7em;"></div>
    
    <h1 class="clear">Homework 7</h1>
    
    <p class="subtitle">Due date: ??, Nov ??, 2016 (11:59:59pm)</p>

    <p><b>Note on integrity:</b> This homework is meant to be done in teams of two. 
    You may discuss problems with fellow students, but
    all work must be entirely that of your team, and should not be from any
    other course, present, past, or future. If you use a solution from
    another source you must cite it &mdash; this includes when that source
      is someone else helping you.</p>

    <p>Every source file you submit should begin with a block comment
      that lists <span style="text-decoration:underline;">the members of your team</span>, your <span style="text-decoration:underline;">email addresses</span>, and any <span style="text-decoration:underline;">remarks</span> that you
      wish to make to the instructor.</p>

    <p>All programming is to be done in Python 2.7.</p>

    <p>Feel free to define helper functions if you need them.</p>

    <p>Electronic submission instructions:</p>

    <ul>
      <li>Send an email with your file <tt>homework7.py</tt> as an attachment to <tt>pl.fa16.olin@gmail.com</tt> with subject <i>Homework 7 submission</i>. Only one email per team, please.</li>
    </ul>

    <p><b>Additional instructions for Homework 7 submission:</b> Along with your usual submission of the <tt>homework6.py</tt> file containing your source code, please describe in your submission email (or a subsequent email if you've already submitted <tt>homework6.py</tt>) how you answered the various questions. More specifically

    <hr>

    <p>In this homework, we bring everything we learned about interpretation together. Your goal is to implement an interpreter for a simple imperative language with first class functions, mutable variables, mutable arrays, and dictionaries. You should definitely reuse most of the stuff we did in class. Let's call our language PJ (for Python/JavaScript).</p>

    <p>Syntax: </p>

<!--    <table>
      <tr>
	<td><tt><i>expr</i></tt> ::= </td>
	<td><i>integer</i></td>
      </tr>
      <tr>
	<td></td>
	<td><i>boolean</i></td>
      </tr>
    </table>
-->

<pre>
  <i>expr</i> ::= <i>integer literal</i>
           <i>boolean literal</i>
	   <i>string literal</i>
 	   <i>identifier</i>
	   <i>expr</i> <b>+</b> <i>expr</i>
	   <i>expr</i> <b>*</b> <i>expr</i>
	   <i>expr</i> <b>-</b> <i>expr</i>
	   <i>expr</i> <b>==</b> <i>expr</i>
	   <i>expr</i> <b>></b> <i>expr</i>
	   <i>expr</i> <b>>=</b> <i>expr</i>
	   <i>expr</i> <b><</b> <i>expr</i>
	   <i>expr</i> <b><=</b> <i>expr</i>
	   <i>expr</i> <b><></b> <i>expr</i>
	   <i>expr</i> <b>and</b> <i>expr</i>
	   <i>expr</i> <b>or</b> <i>expr</i>
	   <b>not</b> <i>expr</i>
	   <b>let</b> <b>(</b> <i>identifier</i> <b>=</b> <i>expr</i> <b>,</b> ... <b>)</b> <i>expr</i>
	   <i>expr</i> <b>?</b> <i>expr</i> <b>:</b> <i>expr</i>
	   <i>expr</i> <b>(</b> <i>expr</i> <b>,</b> ... <b>)</b>
	   <b>(</b> <i>expr</i> <b>)</b>
	   <b>[</b> <i>expr</i> <b>,</b> ... <b>]</b>
	   <b>function</b> <b>(</b> <i>identifier</i> <b>,</b> ... <b>)</b> <i>stmt</i>
	   <b>{</b> <i>identifier</i> <b>:</b> <i>expr</i> <b>,</b> ... <b>}</b>
	   <i>expr</i> <b>[</b> <i>expr</i> <b>]</b>
	   <b>print</b> <i>expr</i> <b>,</b> ...

  <i>stmt</i> ::= <i>expr</i> <b>;</b>
           <i>identifier</i> <b>=</b> <i>expr</i> <b>;</b>
	   <i>expr</i> <b>[</b> <i>expr</i> <b>]</b> <b>=</b> <i>expr</i> <b>;</b>
           <b>if</b> <b>(</b> <i>expr</i> <b>)</b> <i>stmt</i> <b>else</b> <i>stmt</i>
	   <b>while</b> <b>(</b> <i>expr</i> <b>)</b> <i>stmt</i>
	   <b>for</b> <b>(</b> <i>identifier</i> <b>in</b> <i>expr</i> <b>)</b> <i>stmt</i>
	   <b>{</b> <i>decl</i> ... <i>stmt</i> ... <b>}</b>

  <i>decl</i> ::= <b>var</b> <i>identifier</i> <b>;</b>
           <b>var</b> <i>identifier</i> <b>=</b> <i>expr</i> <b>;</b>
</pre>

    <p>Predefined functions in the initial environment should include <tt>len</tt> to compute the length of an array or of a string. </p>

    <p>A <i>program</i> is a sequence of declarations, such as the following:

<pre>
var count_to_zero = function(n) {
  while (n >= 0) {
    print n;
    n = n - 1;
  }
}

var main = function() {
  print "Hello, world!";
  count_to_zero(10);
}
</pre>
</p>

    <p>Write a function <tt class="code">execute(<i>filename</i>)</tt> that takes a filename containing a program as an argument, and executes function <tt>main()</tt> contained in the program. Of course, this should invoke an interpreter that you have to write that will execute function <tt>main()</tt>.</p>

      <p>If you want to be fancy, write your <tt>homework7.py</tt> code in such a way that you can invoke <tt>execute()</tt> directly from the command-line, so that for instance:
<pre>
  python homework7.py test.pj
</pre>
</p>
</body>
</html>
