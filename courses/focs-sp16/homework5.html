<!DOCTYPE html>
<html>

  <head>
    
    <meta charset="utf-8">
    <title>Homework 5</title>

    <link rel="stylesheet" href="alt.css" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,800,700' rel='stylesheet' type='text/css'>

    <script src="autoscroll.js"></script>
    
    <style>

      hr { margin-top: 50px; }

        code,tt,pre {
          font-size: 130%;
        }
	
        div.lect {
	  padding-top: 0;
       	  padding-left: 3em;
	  margin-top:0;
        }
    	p.ann { 
    	  padding-left: 3em;
    	  text-indent: -3em; 
    	}
	p.ann_ctd{
	  padding-left: 3em;
        }
    	span.hdr {
   	  padding-right: 1em
    	}

	.hidden {
	  visibility: hidden;
        }

        tt.code {
           background: #e6e6e6;
        }

	pre.code {
	   border: 1px solid #c6c6c6;
	border-radius: 5px;
	padding: 10px;
	font-size:100%;
	}

/* from
    http://www.456bereastreet.com/archive/201105/styling_ordered_list_numbers/
 */

ol {
    counter-reset:li; /* Initiate a counter */
    margin-left:0; /* Remove the default left margin */
    padding-left:0; /* Remove the default left padding */
    padding-top:1em;
}
ol > li {
    position:relative; /* Create a positioning context */
    margin:0 0 6px 2em; /* Give each list item a left margin to make
    room for the numbers */
    padding:4px 8px; /* Add some spacing around the content */
    list-style:none; /* Disable the normal item numbering */
    /*border-top:2px solid #666;
    background:#f6f6f6; */
}
ol > li:before {
    counter-increment:li; /* Increment the counter by 1 */
    /* Position and style the number */
    position:absolute;
    top:-2px;
    left:-2em;
    -moz-box-sizing:border-box;
    -webkit-box-sizing:border-box;
    box-sizing:border-box;
    width:2em;
    /* Some space between the number and the content in browsers that
    support
       generated content but not positioning it (Camino 2 is one
    example) */
    margin-right:8px;
    padding:4px;
/*    border-top:2px solid #666;
    color:#fff;
    background:#666; 
    font-weight:bold; */
/*    font-family:"Helvetica Neue", Arial, sans-serif;
    text-align:center; */
}

ol.letter > li:before {
    content:"(" counter(li,lower-alpha) ")"; /* Use the counter as content */
}

ol.number > li:before {
    content:"(" counter(li,decimal) ")"; /* Use the counter as content */
}

li ol,
li ul {margin-top:6px;}

li > p { margin-top:0;}

    </style>

  </head>


  <body>

    <div class="navbar">

      <div class="home">
	<a href="../../index.html"><img src="../../home.png" style="height: 1.6em;"></a>
      </div>

      <ul>
	<li><a href="index.html"><b>Foundations of Computer Science SP16</b></a></li> 
	<li class="hidden"><a class="scrollto" href="#announcements">Announcements</a></li>
	<li class="hidden"><a class="scrollto" href="#info">Course Info</a></li>
	<li class="hidden"><a class="scrollto" href="#lectures">Lectures</a></li>
	<li class="hidden"><a class="scrollto" href="#homeworks">Homeworks</a></li>
      </ul>
    </div>


    <!-- padding -->
    <div id="top" style="height: 7em;"></div>
    
    <h1 class="clear">Homework 5</h1>
    
    <p class="subtitle">Due date: Friday, February 26 (midnight)</p>

    <p><b>Note on integrity:</b> This homework is meant to be done
    individually. You may discuss problems with fellow students, but
    all work must be entirely your own, and should not be from any
    other course, present, past, or future. If you use a solution from
    another source you must cite it &mdash; this includes when that source
      is someone else helping you.</p>

    <p>Every source file you submit should begin with a block comment
      that lists your <span style="text-decoration:underline;">name</span>, your <span style="text-decoration:underline;">email address</span>, and any <span style="text-decoration:underline;">remarks</span> that you
      wish to make to the instructor.</p>

    <p>All programming is to be done in OCaml v4.</p>

    <p>Feel free to define helper functions if you need them.</p>

    <p>Please code your answers by modifying the
      file <a href="homework5.ml"><tt>homework5.ml</tt></a> provided.</p>

    <p>Electronic submission instructions:</p>

    <ul>
      <li>Download the file <a href="hw5-checker.ml"><tt>hw5-checker.ml</tt></a> into the same directory as your homework solution.</li>
      <li>Start a <i>new</i> OCaml shell.</li>
      <li>Load your homework code via <tt>#use "homework5.ml";;</tt></li>
      <li>Load the homework checker via <tt>#use "hw5-checker.ml";;</tt></li>
      <li>The homework checker checks that you've implemented all functions (or provided stubs for them) and that those functions have the type that I asked you to give them. If the checker says your types are OK, then you're fine. If the checker gives you an error, fix it. If you believe that the checker gives you an error wrongly, send me an email.</li>
      <li>When you're ready to submit, send an email with your file <tt>homework5.ml</tt> as an attachment to <tt>focs.sp16@gmail.com</tt> with subject <i>Homework 5 submission</i>.</li>
    </ul>

    <p>If your code fails because you did not follow the instructions above (in particular, because your code fails to type check when put in presence of my automated testing rig) I'll be unhappy.</p>


    <hr>

    <p>Here is a type for deterministic Turing machines, parameterized
      by the type for states.</p>

<pre>
type symbol = string

type 'a tm = { states : 'a list;
	       input_alphabet : symbol list;
	       tape_alphabet : symbol list;
	       left_marker : symbol;
	       blank : symbol;
	       delta : ('a * symbol) -> ('a * symbol * int);
	       start : 'a;
	       accept : 'a;
	       reject : 'a }
</pre>

    <p>
The definition follows that of Turing machines we've seen in
class. Note that the transition function is given by an OCaml function
taking as input a pair <i>(p,a)</i> of the current state and the
symbol under the tape head and returning a triple <i>(q,b,dir)</i> indicating that
the machine should transition into a state <i>q</i>, writing <i>b</i>
in the 
cell under the tape head, and then moving the 
tape head in direction <i>dir</i>, left when it is 0, and right when
it is 1.
    </p>

<p>
  The one difference from the machines we've seen before is that the
symbols are not characters anymore, but rather strings (though I'm
  using the name <tt>symbol</tt> to refer to them for clarity). That's
because in future homeworks, we will want to mark up elements of the
alphabet, and it's easier to mark up symbols when they are represented
as strings instead of characters. I've given you a function
  <tt>explode</tt> that takes a string and explodes it into a list of
constituent symbols.
</p>

<p>
As a simple example, here is the code implementing a Turing machine
accepting the regular language &lcub;a<sup>m</sup>b<sup>n</sup> |
m,n&ge;0&rcub;:</p>
<pre>
let asbs = { states = ["start"; "q1"; "acc"; "rej"];
             input_alphabet = ["a";"b"];
             tape_alphabet = ["a";"b";"_";">"];
             blank = "_";
             left_marker = ">";
             start = "start";
             accept = "acc";
             reject = "rej";
             delta = (fun inp -> match inp with
                         | ("start", "a") -> ("start", "a", 1)
                         | ("start", "b") -> ("q1", "b", 1)
                         | ("start", ">") -> ("start", ">", 1)
                         | ("start", "_") -> ("acc", "_", 1)
                         | ("q1", "b") -> ("q1", "b", 1)
                         | ("q1", "_") -> ("acc", "_", 1)
                         | ("acc", "a") -> ("acc", "a", 1)
                         | ("acc", "b") -> ("acc", "b", 1)
                         | ("acc", ">") -> ("acc", ">", 1)
                         | ("acc", "_") -> ("acc", "_", 1)
                         | (_,c) -> ("rej",c,1))}
</pre>
<p>
I also provided you with further sample Turing machines <tt>anbn</tt>
and 
<tt>anbncn</tt> accepting &lcub;a<sup>n</sup>b<sup>n</sup> | n &ge;
0&rcub; and &lcub;a<sup>n</sup>b<sup>n</sup>c<sup>n</sup> | n&ge;
0&rcub; respectively.  Note that <tt>anbn</tt> uses different symbols for the left marker and for the blank. 
</p>

<p>
Recall from lecture that a configuration records the content of the
tape of a Turing machine, the current state, and the position of the  
tape. Type <tt> 'a config</tt> is the type of a configuration, defined
as follows:</p>

<pre>
type 'a config = { state : 'a;
                   before: symbol list;
                   after: symbol list }
</pre>
<p>
Field <tt>state</tt> is the current state, field <tt>before</tt> is
the content of the tape before the tape head, and field <tt>after</tt>
is the content of the tape after the tape head (including the tape
head).
</p>



    <hr>
    
    <ol class="number">
      <li> <p><b>Turing Machines</b></p>

	<ol class="letter">

<!--
	  <li> <p>Code a function <tt class="code">???</tt> of
	      type <tt class="code">???</tt> which...
	    </p>

<pre class="code">
</pre>
	  </li>
-->

	  <li> 
	    <p>
	      Code a function <tt class="code">startConfig</tt> with
	      type <tt class="code">'a tm -> 'a config</tt> 
	      where <tt>startConfig m w</tt> yields the starting
	      configuration for Turing machine <tt>m</tt>
	      with <tt>w</tt> as input string.  (Note that OCaml 
	      may report the type <tt>symbol</tt> as <tt>string</tt>
	      &mdash; that's okay, since they are equivalent. So don't
	      worry about that.) 
	    </p>

<pre class="code">
# startConfig asbs "";;
- : string config = {state = "start"; before = []; after = [">"]}
# startConfig asbs "ab";;
- : string config = {state = "start"; before = []; after = [">"; "a"; "b"]}
# startConfig asbs "aaaabbbaa";;
- : string config =
{state = "start"; before = [];
 after = [">"; "a"; "a"; "a"; "a"; "b"; "b"; "b"; "a"; "a"]}
# startConfig anbn "";;
- : string config = {state = "start"; before = []; after = ["|"]}
# startConfig anbn "aabb";;
- : string config =
{state = "start"; before = []; after = ["|"; "a"; "a"; "b"; "b"]}
# startConfig anbn "aabbaa";;
- : string config =
{state = "start"; before = []; after = ["|"; "a"; "a"; "b"; "b"; "a"; "a"]}
</pre>

	  </li>

	  <li> 
	    <p>
	      Code
  functions <tt class="code">acceptConfig</tt>, <tt class="code">rejectConfig</tt>,
	      and <tt class="code">haltConfig</tt>, each of
	      type <tt class="code">'a tm -> 'a config -> bool</tt>
	      where <tt>acceptConfig m c</tt> (resp., <tt>rejectConfig
		m c</tt>, <tt>haltConfig m c</tt>)
  returns <tt>true</tt> if and only if <tt>c</tt> is an accepting
  (resp., rejecting, halting) configuration for Turing machine 
	      <tt>m</tt>. 
	    </p>

<pre class="code">
# acceptConfig asbs {state="start"; before=[]; after=["_"]};;
- : bool = false
# acceptConfig asbs {state="q1"; before=[]; after=[">";"a";"_"]};;
- : bool = false
# acceptConfig asbs {state="acc"; before=["b"]; after=[">";"a";"_"]};;
- : bool = true
# acceptConfig asbs {state="rej"; before=["b"]; after=[">";"a";"_"]};;
- : bool = false
# rejectConfig asbs {state="start"; before=[]; after=["_"]};;
- : bool = false
# rejectConfig asbs {state="q1"; before=[]; after=[">";"a";"_"]};;
- : bool = false
# rejectConfig asbs {state="acc"; before=["b"]; after=[">";"a";"_"]};;
- : bool = false
# rejectConfig asbs {state="rej"; before=["b"]; after=[">";"a";"_"]};;
- : bool = true
# haltConfig asbs {state="start"; before=[]; after=["_"]};;
- : bool = false
# haltConfig asbs {state="q1"; before=[]; after=[">";"a";"_"]};;
- : bool = false
# haltConfig asbs {state="acc"; before=["b"]; after=[">";"a";"_"]};;
- : bool = true
# haltConfig asbs {state="rej"; before=["b"]; after=[">";"a";"_"]};;
- : bool = true
</pre>

	  </li>


	  <li> 
	    <p>
	      Code a function <tt class="code">step</tt> with type
	      <tt class="code">'a tm -> 'a config -> 'a config</tt>
	      where <tt>step m c</tt> returns the configuration 
	      obtained by taking one step of Turing machine <tt>m</tt> from
	      configuration <tt>c</tt>. 
	      Function <tt>step m</tt> is basically the relation
	      <tt>C    &#8594;<sup>1</sup> D</tt> described in lecture.</p>

<pre class="code">
# step asbs {state="start"; before=[]; after=["_"]};;
- : string config = {state = "acc"; before = ["_"]; after = []}
# step asbs {state="start"; before=[">";"a"]; after=["b";"b"]};;
- : string config = {state = "q1"; before = [">"; "a"; "b"]; after = ["b"]}
# step asbs {state="q1"; before=[">";"a"]; after=["a";"b"]};;
- : string config = {state = "rej"; before = [">"; "a"; "a"]; after = ["b"]}
# step asbs {state="q1"; before=[">";"a"]; after=["b";"b"]};;
- : string config = {state = "q1"; before = [">"; "a"; "b"]; after = ["b"]}
# step anbn {state="q1"; before=["|";"a";"b"]; after=["/"]};;
- : string config = {state = "q2"; before = ["|"; "a"; "b"; "/"]; after = []}
# step anbn {state="q2"; before=["|";"a";"b"]; after=["/"]};;
- : string config = {state = "q2"; before = ["|"; "a"]; after = ["b"; "/"]}
# step anbn {state="q3"; before=["|"]; after=["a";"b"]};;
- : string config = {state = "q4"; before = ["|"; "X"]; after = ["b"]}
# step anbn {state="q4"; before=["|";"X"]; after=["b"]};;
- : string config = {state = "q2"; before = ["|"; "X"; "X"]; after = []}
</pre>

	  </li>


	  <li> 
	    <p>
	      Code a function <tt class="code">run</tt> with type
	      <tt class="code">string tm -> string -> bool</tt>
	      where <tt>run m w</tt> returns <tt>true</tt>
	      if <tt>m</tt> (which should be a Turing machine where 
	      states are described using strings) accepts input string
	      <tt>w</tt>, and returns <tt>false</tt> if <tt>m</tt>
	      rejects input string <tt>w</tt>. The 
	      function should, as a side effect, also print the sequence of
	      configurations that Turing machine <tt>m</tt> goes
	      through during its computation. 
	    </p>

	    <p>
	      I provided you with a function <tt>printConfig</tt> to
	      print a 
	      configuration, which takes the configuration to print
	      and also a value 
	      for <tt>printConfig</tt> to return. Thus,
	      <tt>printConfig c v</tt> will 
	      print configuration <tt>c</tt> and return
	      value <tt>v</tt>.  
	    </p>

<pre class="code">
# run asbs "aab";;
start  [>] a  a  b 
start   > [a] a  b 
start   >  a [a] b 
start   >  a  a [b]
q1      >  a  a  b [_]
acc     >  a  a  b  _ [_]
- : bool = true
# run anbn "aabb";;
start  [|] a  a  b  b 
start   | [a] a  b  b 
start   |  a [a] b  b 
start   |  a  a [b] b 
q1      |  a  a  b [b]
q1      |  a  a  b  b [/]
q2      |  a  a  b  b  / [/]
q2      |  a  a  b  b [/] / 
q2      |  a  a  b [b] /  / 
q2      |  a  a [b] b  /  / 
q2      |  a [a] b  b  /  / 
q2      | [a] a  b  b  /  / 
q2     [|] a  a  b  b  /  / 
q3      | [a] a  b  b  /  / 
q4      |  X [a] b  b  /  / 
q4      |  X  a [b] b  /  / 
q2      |  X  a  X [b] /  / 
q2      |  X  a [X] b  /  / 
q2      |  X [a] X  b  /  / 
q2      | [X] a  X  b  /  / 
q2     [|] X  a  X  b  /  / 
q3      | [X] a  X  b  /  / 
q3      |  X [a] X  b  /  / 
q4      |  X  X [X] b  /  / 
q4      |  X  X  X [b] /  / 
q2      |  X  X  X  X [/] / 
q2      |  X  X  X [X] /  / 
q2      |  X  X [X] X  /  / 
q2      |  X [X] X  X  /  / 
q2      | [X] X  X  X  /  / 
q2     [|] X  X  X  X  /  / 
q3      | [X] X  X  X  /  / 
q3      |  X [X] X  X  /  / 
q3      |  X  X [X] X  /  / 
q3      |  X  X  X [X] /  / 
q3      |  X  X  X  X [/] / 
acc     |  X  X  X  X  / [/]
- : bool = true
# run anbncn "aabbcc";;
start  [>] a  a  b  b  c  c 
start   > [a] a  b  b  c  c 
start   >  a [a] b  b  c  c 
start   >  a  a [b] b  c  c 
q1      >  a  a  b [b] c  c 
q1      >  a  a  b  b [c] c 
q6      >  a  a  b  b  c [c]
q6      >  a  a  b  b  c  c [_]
q2      >  a  a  b  b  c  c  _ [_]
q2      >  a  a  b  b  c  c [_] _ 
q2      >  a  a  b  b  c [c] _  _ 
q2      >  a  a  b  b [c] c  _  _ 
q2      >  a  a  b [b] c  c  _  _ 
q2      >  a  a [b] b  c  c  _  _ 
q2      >  a [a] b  b  c  c  _  _ 
q2      > [a] a  b  b  c  c  _  _ 
q2     [>] a  a  b  b  c  c  _  _ 
q3      > [a] a  b  b  c  c  _  _ 
q4      >  X [a] b  b  c  c  _  _ 
q4      >  X  a [b] b  c  c  _  _ 
q5      >  X  a  X [b] c  c  _  _ 
q5      >  X  a  X  b [c] c  _  _ 
q2      >  X  a  X  b  X [c] _  _ 
q2      >  X  a  X  b [X] c  _  _ 
q2      >  X  a  X [b] X  c  _  _ 
q2      >  X  a [X] b  X  c  _  _ 
q2      >  X [a] X  b  X  c  _  _ 
q2      > [X] a  X  b  X  c  _  _ 
q2     [>] X  a  X  b  X  c  _  _ 
q3      > [X] a  X  b  X  c  _  _ 
q3      >  X [a] X  b  X  c  _  _ 
q4      >  X  X [X] b  X  c  _  _ 
q4      >  X  X  X [b] X  c  _  _ 
q5      >  X  X  X  X [X] c  _  _ 
q5      >  X  X  X  X  X [c] _  _ 
q2      >  X  X  X  X  X  X [_] _ 
q2      >  X  X  X  X  X [X] _  _ 
q2      >  X  X  X  X [X] X  _  _ 
q2      >  X  X  X [X] X  X  _  _ 
q2      >  X  X [X] X  X  X  _  _ 
q2      >  X [X] X  X  X  X  _  _ 
q2      > [X] X  X  X  X  X  _  _ 
q2     [>] X  X  X  X  X  X  _  _ 
q3      > [X] X  X  X  X  X  _  _ 
q3      >  X [X] X  X  X  X  _  _ 
q3      >  X  X [X] X  X  X  _  _ 
q3      >  X  X  X [X] X  X  _  _ 
q3      >  X  X  X  X [X] X  _  _ 
q3      >  X  X  X  X  X [X] _  _ 
q3      >  X  X  X  X  X  X [_] _ 
acc     >  X  X  X  X  X  X  _ [_]
- : bool = true
# run anbn "aabbbb";;
start  [|] a  a  b  b  b  b 
start   | [a] a  b  b  b  b 
start   |  a [a] b  b  b  b 
start   |  a  a [b] b  b  b 
q1      |  a  a  b [b] b  b 
q1      |  a  a  b  b [b] b 
q1      |  a  a  b  b  b [b]
q1      |  a  a  b  b  b  b [/]
q2      |  a  a  b  b  b  b  / [/]
q2      |  a  a  b  b  b  b [/] / 
q2      |  a  a  b  b  b [b] /  / 
q2      |  a  a  b  b [b] b  /  / 
q2      |  a  a  b [b] b  b  /  / 
q2      |  a  a [b] b  b  b  /  / 
q2      |  a [a] b  b  b  b  /  / 
q2      | [a] a  b  b  b  b  /  / 
q2     [|] a  a  b  b  b  b  /  / 
q3      | [a] a  b  b  b  b  /  / 
q4      |  X [a] b  b  b  b  /  / 
q4      |  X  a [b] b  b  b  /  / 
q2      |  X  a  X [b] b  b  /  / 
q2      |  X  a [X] b  b  b  /  / 
q2      |  X [a] X  b  b  b  /  / 
q2      | [X] a  X  b  b  b  /  / 
q2     [|] X  a  X  b  b  b  /  / 
q3      | [X] a  X  b  b  b  /  / 
q3      |  X [a] X  b  b  b  /  / 
q4      |  X  X [X] b  b  b  /  / 
q4      |  X  X  X [b] b  b  /  / 
q2      |  X  X  X  X [b] b  /  / 
q2      |  X  X  X [X] b  b  /  / 
q2      |  X  X [X] X  b  b  /  / 
q2      |  X [X] X  X  b  b  /  / 
q2      | [X] X  X  X  b  b  /  / 
q2     [|] X  X  X  X  b  b  /  / 
q3      | [X] X  X  X  b  b  /  / 
q3      |  X [X] X  X  b  b  /  / 
q3      |  X  X [X] X  b  b  /  / 
q3      |  X  X  X [X] b  b  /  / 
q3      |  X  X  X  X [b] b  /  / 
rej     |  X  X  X  X  b [b] /  / 
- : bool = false
</pre>

	  </li>


	</ol>
      </li>

      <li> <p><b>Designing Turing Machines</b></p>

        <p>In this question and the next, I will ask you to design Turing
	  machines. You can test your Turing machines
	  with the code you wrote in Question 1. </p>

	<p>For submission purposes, I ask you to define those Turing
	  machines as constants using <tt>let</tt> with a fixed
	  name given below in each question. There is already a
	  placeholder in <tt>homework5.ml</tt> for those answers. Just
	  replace the placeholder with your definition.</p>

	<ol class="letter">

	  <li><p>
	      Recall that a palindrome is a string that reads the same
	      from left to right and from right to left; <tt>cddc</tt>
	      is a palindrome, as is <tt>ccdcc</tt>.</p>

	    <p>
	      Design a Turing machine <tt class="code">tm_q2_a</tt>
	      that decides
	      the language consisting of all palindromes over the
	      alphabet <tt>{c,d}</tt>.
	    </p>

<pre class="code">
(Sample output coming soon)
</pre>
	      

	  <li><p>
	      Design a Turing machine
	      <tt class="code">tm_q2_b</tt> that decides
	      the language consisting of all strings over the
	      alphabet <tt>{a,b}</tt> of the
	      form <tt>b<sup>n</sup>a<sup>3n</sup></tt> for any n&ge;0.
	    </p>

<pre class="code">
(Sample output coming soon)
</pre>

	</ol>

      </li>

      <li> <p><b>Binary Addition</b></p>


	  <p>
	    Consider the language <i>BinaryAddition</i> of all strings over
	    an alphabet {0,1,#} of the
	    form <tt><i>w1</i>#<i>w2</i>#<i>w3</i></tt>, where 
	    <i>w1</i>, <i>w2</i>, <i>w3</i> are nonempty strings over
	    {0,1} all of the same length such
	    that <i>w1</i>+<i>w2</i>=<i>w3</i> when viewed as binary
	    numbers.</p>

	  <p>Design a Turing machine <tt class="code">binaryAddition</tt>
	    deciding language <i>BinaryAddition</i>. </p>

	  <p>(Brownie points if you can design the Turing machine so
	    that <i>w1</i>, <i>w2</i>, and <i>w3</i> need not be of
	    the same length.)</p>

<pre class="code">
(Sample output coming soon)
</pre>

      </li>

    </ol>
	
    

  </body>
</html>
